!function(e,t,r){"use strict";function n(){i.showMessage(u.IE8)}function a(){var e=t.createElement("h1");e.id=i.idName.heading,e.innerHTML=m.message,h.appendChild(e),i.showMessage(u.IE7);var r=t.getElementsByTagName("a");r[0].style.color="red",r[1].style.color="white"}function o(e){e=e||{},e.killIE!==r&&(l=e.killIE),e.url!==r&&(E.chromeURL=e.url),e.label!==r&&(u.label=e.label);for(var t=7;9>=t;t++)e["up"+t]!==r&&"function"==typeof e["up"+t]&&(u["IE"+t].upgrade=e["up"+t])}var i={css:"#kick-ie,body{margin:0}#kick-ie,#kick-ie-heading{right:0;left:0;text-align:center}#kick-ie{font:16px/1.5 Arial,sans-serif;position:fixed;top:0;padding:.2em 0;border:1px solid}#kick-ie a{font-weight:700;text-decoration:none;border-bottom:1px dashed}#kick-ie-close{font:700 24px/1 Arial,sans-serif;position:fixed;top:0;right:0;height:inherit;padding:.2em;cursor:pointer;border:none!important}#kick-ie-heading{font:32px/1.5 Arial,sans-serif;position:absolute;top:45%}",idName:{wrap:"kick-ie",close:"kick-ie-close",heading:"kick-ie-heading"}},s=9,l=s,d=!1,c=!1,g=/360SE|BIDUBrowser|LBBROWSER|Maxthon|MetaSr|QQBrowser|UBrowser/i,p='为了获得最佳的浏览体验，我们建议您切换 <strong id="the-flash">急(shan)速(dian)</strong>模式 或选用 <a href="{{chromeURL}}" target="_blank">谷歌浏览器</a>。',u={label:"365 安全卫士提醒",ver:-1,lte9:!1,lte8:!1,lte7:!1,IE9:{color:"#000",borderColor:"#CCC",background:"#CCC",message:'您的浏览器太古董了，还不速速 <a href="{{chromeURL}}" target="_blank">升(geng)级(xin)</a>！',upgrade:null},IE8:{color:"#FFF",borderColor:"#EDC048",background:"#E29808",message:"您的浏览器不是最新的。您正在使用 Internet Explorer 的一个老版本。"+p,upgrade:null},IE7:{color:"#FFF",borderColor:"#AC1B1B",background:"#AC1B1B",message:"似乎您正在使用 Internet Explorer 的一个不安全的版本。使用老旧浏览器会对您的计算机安全造成威胁。<br>在 Windows XP 上，您无法升级到最新版本。"+p,upgrade:null},cookieName:"browsehappy",cookieExpires:5e3},m={message:'是时候<a href="//windows.microsoft.com/zh-cn/windows/upgrade-your-browser" target="_blank">升级</a>你的浏览器了'},E={chromeURL:"//www.google.com/chrome"},f=t.getElementsByTagName("html")[0],h=t.getElementsByTagName("body")[0];!function(r){r.getInternetExplorerVersion=function(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var r=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),a=t.documentMode;null!==n.exec(r)&&(e=parseFloat(RegExp.$1)),e=e>a?a:e,7===e&&a>7&&(e=a),c=g.test(r)}return e},r.addEvent=function(){return t.addEventListener?function(e,t,r){if(e.length)for(var n=0;n<e.length;n++)addEvent(e[n],t,r);else e.addEventListener(t,r,!1)}:function(t,r,n){if(t.length)for(var a=0;a<t.length;a++)addEvent(t[a],r,n);else t.attachEvent("on"+r,function(){return n.call(t,e.event)})}}(),r.cookies={getItem:function(e){return e?decodeURIComponent(t.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,r,n,a,o,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(n)switch(n.constructor){case Number:s=1/0===n?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toUTCString()}return t.cookie=encodeURIComponent(e)+"="+encodeURIComponent(r)+s+(o?"; domain="+o:"")+(a?"; path="+a:"")+(i?"; secure":""),!0}},r.hideMessage=function(){var e=t.getElementById(r.idName.close);r.addEvent(e,"click",function(){var e=new Date;e.setTime(e.getTime()+u.cookieExpires),t.getElementById(r.idName.wrap).style.display="none",r.cookies.setItem(u.cookieName,":(",e)})},r.showMessage=function(e){if(null===r.cookies.getItem(u.cookieName)){var n=t.createElement("p");if(n.id=r.idName.wrap,n.innerHTML=u.label+"："+e.message.replace("{{chromeURL}}",E.chromeURL),n.style.color=e.color,n.style.borderColor=e.borderColor,n.style.background=e.background,u.ver>7){var a=t.createElement("a");a.id=r.idName.close,a.innerHTML="×",n.appendChild(a)}h.appendChild(n),u.ver>7&&r.hideMessage()}},r.resetMessage=function(){null!==t.getElementById(r.idName.wrap)&&h.removeChild(t.getElementById(r.idName.wrap))},r.addClass=function(e){f.className+=" "+e},r.addCss=function(){var e=t.head||t.getElementsByTagName("head")[0],n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=r.css:n.appendChild(t.createTextNode(r.css)),e.appendChild(n)}}(i),i.init=function(e){if(-1!==u.ver)return void console.warn("KickIE was initialized!");if(i.resetMessage(),u.ver=i.getInternetExplorerVersion(),-1===u.ver);else{switch(o(e),d=!0,f.className="ie",u.ver){case 9:i.addClass("ie9"),u.lte9=!0;break;case 8:i.addClass("ie8"),u.lte9=!0,u.lte8=!0;break;case 7:i.addClass("ie7"),u.lte9=!0,u.lte8=!0,u.lte7=!0}u.lte9&&(i.addCss(),i.addClass("lte9"),9===u.ver&&l>=9&&(u.IE9.upgrade?u.IE9.upgrade():i.showMessage(u.IE9)),u.lte8&&(i.addClass("lte8"),u.lte7?(i.addClass("lte7"),h.innerHTML="",(u.IE7.upgrade?u.IE7.upgrade:a)()):(u.IE8.upgrade?u.IE8.upgrade:n)()))}},i.init(),u.ver=-1,e.KickIE=function(e){i.init(e)},e.isIE=d,e.isDualCore=c,e.IE={ver:u.ver,lte9:u.lte9,lte8:u.lte8,lte7:u.lte7},"function"==typeof define&&define.cmd&&define(function(t,r,n){n.exports=e.KickIE,n.exports.isIE=e.isIE,n.exports.isDualCore=e.isDualCore,n.exports.IE=e.IE})}(window,document);